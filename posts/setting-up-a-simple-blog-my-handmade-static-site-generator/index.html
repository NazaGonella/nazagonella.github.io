<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Setting Up a Simple Blog - Tools I Used</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="/home/nazar/Workspace/blog/style.css" />
</head>
<body>
<header>
<a class="name" href="../../index.html">Nazareno Gonella</a>
<nav>
<a class="title" href="../../index.html">BLOG</a>   
<a class="title" href="mailto:nazagonella2@gmail.com">CONTACT</a>   
<a class="title" href="">CV</a>
</nav>
</header>
<hr />
<h2
id="setting-up-a-simple-blog---my-handmade-static-site-generator">Setting
Up a Simple Blog - My Handmade Static Site Generator</h2>
<p>October 31, 2025</p>
<hr />
<p>You can check the repository <a
href="https://github.com/NazaGonella/yors-generator">here</a>.</p>
<p>The idea to start writing a blog has been in my mind for quite some
time now, until today that I decided to get on with it. And what better
way to begin than writing about this same process?</p>
<hr />
<h3 id="what-am-i-looking-for">What Am I Looking For?</h3>
<p>From the start I knew I wanted something simple, easy to maintain and
quick to iterate. One of the major reasons I’m doing this is to
structure my thinking when working on any type of project, and for that
I need not be distracted by implementation details.</p>
<hr />
<h3 id="barebones">Barebones</h3>
<p>Still, I would like to have some formatting, as there were times I
would take notes in plain text files for then to never come back to
them. So I’m using the next closest thing, Markdown.</p>
<p>Now what I need is to convert this Markdown file into a HTML file.
After looking around through some posts on reddit, I found the <a
href="https://pandoc.org/">pandoc</a> document converter, exactly what I
needed. For any <code>.md</code> file I just had to run
<code>pandoc input.md -o index.html</code>.</p>
<p>Pandoc utilizes an extended version of Markdown which comes in handy,
as it includes support for tables, definition lists, footnotes,
citations and even math. It also supports <em>Metadata Blocks</em>,
which allows including information such as <code>% title</code>,
<code>% author</code> and <code>% date</code>. I will only be using
<code>% title</code> since the tool requires it.</p>
<p>And there it was, just what I wanted, almost.</p>
<hr />
<h3 id="not-stylish-yet">Not Stylish Yet</h3>
<p>A plain HTML file with formatted text is a lot better than a plain
text file, but unfortunately it doesn’t look good on the portfolio.</p>
<p>I need something simple, but still good looking. Luckily you can link
a <code>.css</code> file to the output of pandoc using the
<code>--css</code> argument. The problem is I don’t have much experience
using css, so it is time to look for references.</p>
<p>I really like <a href="https://fabiensanglard.net/">Fabien
Sanglard’s</a> and <a href="https://stevelosh.com/">Steve Losh’s</a>
websites. They are minimalistic, nice to look at, and easy to read. I
appreciate how you can immediately see all the stuff the authors have
been working on or pondering over the last couple of years as soon as
you enter. With the help of inspect element and a couple of queries to
ChatGPT, I ended up with a style I was happy with.<a href="#fn1"
class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<p>There was now a need for a nice header: css and Markdown alone
wouldn’t suffice. Fortunately, pandoc allows for HTML to be written into
the Markdown file, which it then passes to the final output unchanged. I
can now define a simple header to include on all the pages and ensure a
concise style, but to achieve that I would have to copy and paste the
same header everytime I create a new page. It would be nice to have some
sort of page template.</p>
<hr />
<h3 id="the-page-template">The Page Template</h3>
<p>I went on and created <code>create-post.py</code>, a Python script
that takes <code>&lt;file-name&gt;</code> and
<code>&lt;post-title&gt;</code> as arguments. This script creates
<code>&lt;file-name&gt;.md</code> and writes to it the metadata block
<code>% &lt;post-title&gt;</code>, the page header and the post header
with the date of when the post was created.<a href="#fn2"
class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<pre><code>header_date : datetime = datetime.now().strftime(&quot;%B {S}, %Y&quot;).replace(&#39;{S}&#39;, str(datetime.now().day))

header : str = f&quot;&quot;&quot;%{post_title}

&lt;header&gt;
    &lt;a class=&quot;name&quot; href=&quot;../../index.html&quot;&gt;Nazareno Gonella&lt;/a&gt;&lt;nav&gt;&lt;a class=&quot;title&quot; href=&quot;&quot;&gt;BLOG&lt;/a&gt; &amp;nbsp;&amp;nbsp; &lt;a class=&quot;title&quot; href=&quot;mailto:nazagonella2@gmail.com&quot;&gt;CONTACT&lt;/a&gt; &amp;nbsp;&amp;nbsp; &lt;a class=&quot;title&quot; href=&quot;&quot;&gt;CV&lt;/a&gt;&lt;/nav&gt;
&lt;/header&gt;

&lt;hr /&gt;

## {post_title}

{header_date}

---
&quot;&quot;&quot;

with open(f&quot;{posts_path}/{file_name}/{file_name}.md&quot;, &quot;w&quot;, encoding=&quot;utf-8&quot;) as f:
    f.write(header)</code></pre>
<p>I also included some code to add the post entry along with the date
to the home page</p>
<pre><code>home_path : str = &quot;./home.md&quot;
date_entry = datetime.now().strftime(&quot;%d/%m/%Y&quot;)
post_entry : str = f&quot;{date_entry}: [**{post_title}**]({posts_path**}/{file_name}/index.html)  \n&quot;

with open(home_path, &quot;r&quot;, encoding=&quot;utf-8&quot;) as f:
    lines = f.readlines()

# hardcoded position
lines.insert(7, post_entry)

with open(home_path, &quot;w&quot;, encoding=&quot;utf-8&quot;) as f:
    f.writelines(lines)</code></pre>
<p>And to convert both <code>home.md</code> and the post entry
<code>.md</code> file to html</p>
<pre><code>css_file = &quot;../../style.css&quot;

subprocess.run([
    &quot;pandoc&quot;,
    &quot;-s&quot;,
    home_path,
    &quot;-o&quot;, &quot;index.html&quot;,
    &quot;--css&quot;, &quot;./style.css&quot;,
    &quot;-V&quot;, &quot;title=&quot;
])

subprocess.run([
    &quot;pandoc&quot;,
    &quot;-s&quot;,
    f&quot;{posts_path}/{file_name}/{file_name}.md&quot;,
    &quot;-o&quot;, f&quot;{posts_path}/{file_name}/index.html&quot;,
    &quot;--css&quot;, &quot;../../style.css&quot;,
    &quot;-V&quot;, &quot;title=&quot;
])
</code></pre>
<p>Notice I’m adding additional arguments to <strong>pandoc</strong>:
<code>-s</code> introduces the headers and footers to make the output a
standalone HTML document. <code>-V</code> sets the <code>title</code>
variable to nothing, preventing it of adding the Metadata Block
<code>% title</code> as a header in the document.</p>
<p>With this, I now have an easy way of creating new entries.</p>
<hr />
<h3 id="workflow">Workflow</h3>
<p>I will be using vim as my text editor, primarily for three
reasons.</p>
<ol type="1">
<li>Fast and comfortable to write in.</li>
<li>Very customizable.</li>
<li>Looks cool.</li>
</ol>
<p>Probably one of the most important aspects of using vim in this case
is having the option to execute a command when saving the file. Thanks
to this, I can now avoid having to call pandoc with the same arguments
everytime I want to see the results on the browser. I just save the file
and the HTML file is automatically generated.</p>
<p>I added the following to the <code>.vimrc</code></p>
<pre><code>autocmd BufWritePost *.md !pandoc -s % -o %:p:h/index.html --css style.css -V title=&quot;&quot;</code></pre>
<p>This will apply only when saving any file that ends with
<code>.md</code>.</p>
<p>How about deployment? I just need to push my local files to the
remote Github repository. The thing is, I don’t want to deploy everytime
I correct a minor mistake, it would make version control really
uncomfortable.</p>
<p>To fix this I created a new <code>working</code> branch. Every change
I make gets pushed to that branch, once I feel it’s time to deploy, I
overwrite the <code>master</code> branch.</p>
<p>I could also just merge both branches, but there is no need. For the
time being I’m the only one pushing to the <code>master</code> branch,
so the results of merging and overwriting are ultimately the same.</p>
<p>For easy deployment I made a simple shell script
<code>deploy.sh</code>.</p>
<pre><code>working_branch=&quot;working&quot;

git checkout master
git reset --hard &quot;$working_branch&quot;
git push --force origin master

echo &quot;Master branch updated&quot;

git checkout &quot;$working_branch&quot;</code></pre>
<hr />
<p>And there it is, a simple framework for my use case. Every time I
want to write about a new topic, I run <code>create-post.py</code> and
start writing right away. Once I’m done, I simply save and check the
browser. If I’m happy with the result, I commit, push to origin and then
run <code>deploy.sh</code>. And just like that a new entry is added to
the blog.</p>
<p>Initially, I wasn’t familiar with the concept of static site
generators. I’ve seen recommendations of tools like <a
href="https://jekyllrb.com/">Jekyll</a> or <a
href="https://gohugo.io/">Hugo</a> for easily creating personal
websites, but I felt they were more than what I needed at the moment<a
href="#fn3" class="footnote-ref" id="fnref3"
role="doc-noteref"><sup>3</sup></a>. I also liked the idea of creating a
basic blog framework. What I ended up with was a custom static site
generator.</p>
<p>Now it’s a matter of time to see how well this framework holds up for
me.</p>
<section id="footnotes" class="footnotes footnotes-end-of-document"
role="doc-endnotes">
<hr />
<ol>
<li id="fn1"><p>This stage took some time, tinkering with this kind of
stuff can become dangerously addictive.<a href="#fnref1"
class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>It would make more sense for the date to be the day it’s
published.<a href="#fnref2" class="footnote-back"
role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>Reading Fabien Sanglard’s post <a
href="https://fabiensanglard.net/html/index.html">All you may need is
HTML</a> may have had an effect on this decision.<a href="#fnref3"
class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>
</body>
</html>
